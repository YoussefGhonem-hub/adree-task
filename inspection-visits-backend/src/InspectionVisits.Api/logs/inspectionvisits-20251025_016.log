2025-10-25 21:17:07.976 +03:00 [INF] User profile is available. Using 'C:\Users\Youssef Ghonem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-25 21:17:09.495 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-25 21:17:09.584 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-25 21:17:09.598 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-25 21:17:09.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-25 21:17:09.670 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-25 21:17:09.707 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-25 21:17:10.105 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__role_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Name] = @__role_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:17:10.126 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Name] = @__role_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:17:10.205 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__adminEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__adminEmail_0
2025-10-25 21:17:10.342 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__inspEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__inspEmail_0
2025-10-25 21:17:10.357 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Inspectors] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:17:10.372 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [EntitiesToInspect] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:17:10.426 +03:00 [INF] Database seeded.
2025-10-25 21:17:10.838 +03:00 [INF] Now listening on: https://localhost:63886
2025-10-25 21:17:10.843 +03:00 [INF] Now listening on: http://localhost:63887
2025-10-25 21:17:10.928 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-25 21:17:10.934 +03:00 [INF] Hosting environment: Development
2025-10-25 21:17:10.939 +03:00 [INF] Content root path: C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Api
2025-10-25 21:17:11.597 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/ - null null
2025-10-25 21:17:11.826 +03:00 [INF] HTTP GET / responded 404 in 52.7173 ms
2025-10-25 21:17:11.837 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/ - 404 0 null 246.0365ms
2025-10-25 21:17:11.852 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63886/, Response status code: 404
2025-10-25 21:17:20.479 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:17:20.493 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:20.499 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 20.3568ms
2025-10-25 21:17:20.514 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:17:20.528 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:20.621 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:17:20.653 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:17:20.940 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:17:20.966 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:17:20.996 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 326.6879ms
2025-10-25 21:17:21.004 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:17:21.013 +03:00 [INF] HTTP GET /api/entities responded 200 in 479.1656 ms
2025-10-25 21:17:21.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 513.8306ms
2025-10-25 21:17:56.603 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:17:56.630 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:56.633 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 55.5128ms
2025-10-25 21:17:56.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:17:56.655 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:56.671 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:17:56.677 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:17:56.793 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:17:56.822 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:17:56.829 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 144.6225ms
2025-10-25 21:17:56.836 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:17:56.840 +03:00 [INF] HTTP GET /api/entities responded 200 in 175.4072 ms
2025-10-25 21:17:56.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 211.7131ms
2025-10-25 21:17:59.173 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:17:59.190 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:59.197 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 25.1126ms
2025-10-25 21:17:59.202 +03:00 [INF] Request starting HTTP/2 POST https://localhost:63886/api/entities - application/json 53
2025-10-25 21:17:59.231 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:59.238 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Create (InspectionVisits.Api)'
2025-10-25 21:17:59.251 +03:00 [INF] Route matched with {action = "Create", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[InspectionVisits.Application.DTOs.EntityToInspectDto] Create(UpsertEntityBody) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:17:59.558 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 400), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [EntitiesToInspect] ([Address], [Category], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-10-25 21:17:59.628 +03:00 [INF] Executing ObjectResult, writing value of type 'InspectionVisits.Application.DTOs.EntityToInspectDto'.
2025-10-25 21:17:59.636 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.Create (InspectionVisits.Api) in 369.9202ms
2025-10-25 21:17:59.647 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Create (InspectionVisits.Api)'
2025-10-25 21:17:59.650 +03:00 [INF] HTTP POST /api/entities responded 200 in 415.2903 ms
2025-10-25 21:17:59.671 +03:00 [INF] Request finished HTTP/2 POST https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 468.7045ms
2025-10-25 21:17:59.677 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:17:59.693 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:59.701 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:17:59.698 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 20.5878ms
2025-10-25 21:17:59.721 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:17:59.732 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:17:59.735 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:17:59.750 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:17:59.760 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:17:59.769 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 27.6726ms
2025-10-25 21:17:59.780 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:17:59.783 +03:00 [INF] HTTP GET /api/entities responded 200 in 52.0400 ms
2025-10-25 21:17:59.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 88.1422ms
2025-10-25 21:18:02.370 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:02.383 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:02.385 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 17.0148ms
2025-10-25 21:18:02.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:02.410 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:02.413 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:02.417 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:02.448 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:02.463 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:02.470 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 47.3334ms
2025-10-25 21:18:02.476 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:02.479 +03:00 [INF] HTTP GET /api/entities responded 200 in 67.2733 ms
2025-10-25 21:18:02.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 100.0029ms
2025-10-25 21:18:04.650 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:04.680 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:04.684 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 34.0992ms
2025-10-25 21:18:04.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:04.716 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:04.719 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:04.724 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:04.741 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:04.751 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:04.758 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 21.7843ms
2025-10-25 21:18:04.762 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:04.769 +03:00 [INF] HTTP GET /api/entities responded 200 in 49.9548 ms
2025-10-25 21:18:04.775 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 85.8321ms
2025-10-25 21:18:14.015 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities/1 - null null
2025-10-25 21:18:14.029 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:14.031 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities/1 - 204 null null 16.5398ms
2025-10-25 21:18:14.037 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:63886/api/entities/1 - application/json 72
2025-10-25 21:18:14.050 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:14.055 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Update (InspectionVisits.Api)'
2025-10-25 21:18:14.069 +03:00 [INF] Route matched with {action = "Update", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[InspectionVisits.Application.DTOs.EntityToInspectDto] Update(Int32, UpsertEntityBody) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:14.147 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Category], [e].[CreatedAt], [e].[Name], [e].[UpdatedAt]
FROM [EntitiesToInspect] AS [e]
WHERE [e].[Id] = @__req_Id_0
2025-10-25 21:18:14.187 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [EntitiesToInspect] SET [Category] = @p0, [Name] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-10-25 21:18:14.201 +03:00 [INF] Executing ObjectResult, writing value of type 'InspectionVisits.Application.DTOs.EntityToInspectDto'.
2025-10-25 21:18:14.207 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.Update (InspectionVisits.Api) in 116.1317ms
2025-10-25 21:18:14.213 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Update (InspectionVisits.Api)'
2025-10-25 21:18:14.218 +03:00 [INF] HTTP PUT /api/entities/1 responded 200 in 163.7900 ms
2025-10-25 21:18:14.233 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:14.228 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:63886/api/entities/1 - 200 null application/json; charset=utf-8 191.9822ms
2025-10-25 21:18:14.248 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:14.258 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 25.389ms
2025-10-25 21:18:14.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:14.286 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:14.292 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:14.299 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:14.314 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:14.326 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:14.333 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 24.5022ms
2025-10-25 21:18:14.342 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:14.347 +03:00 [INF] HTTP GET /api/entities responded 200 in 56.0445 ms
2025-10-25 21:18:14.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 96.6912ms
2025-10-25 21:18:16.958 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:16.970 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:16.976 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 18.0932ms
2025-10-25 21:18:16.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:16.996 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:16.999 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:17.005 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:17.019 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:17.029 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:17.036 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 24.7484ms
2025-10-25 21:18:17.041 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:17.046 +03:00 [INF] HTTP GET /api/entities responded 200 in 46.9082 ms
2025-10-25 21:18:17.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 75.6161ms
2025-10-25 21:18:18.865 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:18.883 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:18.890 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 25.3411ms
2025-10-25 21:18:18.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:18.919 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:18.925 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:18.931 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:18.945 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:18.955 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:18.962 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 25.0839ms
2025-10-25 21:18:18.966 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:18.969 +03:00 [INF] HTTP GET /api/entities responded 200 in 44.4873 ms
2025-10-25 21:18:18.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 81.1779ms
2025-10-25 21:18:21.223 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities/1 - null null
2025-10-25 21:18:21.231 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:21.235 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities/1 - 204 null null 12.7951ms
2025-10-25 21:18:21.238 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:63886/api/entities/1 - application/json 75
2025-10-25 21:18:21.257 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:21.261 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Update (InspectionVisits.Api)'
2025-10-25 21:18:21.266 +03:00 [INF] Route matched with {action = "Update", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[InspectionVisits.Application.DTOs.EntityToInspectDto] Update(Int32, UpsertEntityBody) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:21.286 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Category], [e].[CreatedAt], [e].[Name], [e].[UpdatedAt]
FROM [EntitiesToInspect] AS [e]
WHERE [e].[Id] = @__req_Id_0
2025-10-25 21:18:21.310 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 200), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [EntitiesToInspect] SET [Category] = @p0, [Name] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-10-25 21:18:21.321 +03:00 [INF] Executing ObjectResult, writing value of type 'InspectionVisits.Application.DTOs.EntityToInspectDto'.
2025-10-25 21:18:21.329 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.Update (InspectionVisits.Api) in 52.1201ms
2025-10-25 21:18:21.334 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Update (InspectionVisits.Api)'
2025-10-25 21:18:21.339 +03:00 [INF] HTTP PUT /api/entities/1 responded 200 in 78.2252 ms
2025-10-25 21:18:21.347 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:63886/api/entities/1 - 200 null application/json; charset=utf-8 108.4107ms
2025-10-25 21:18:21.352 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:21.369 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:21.372 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 20.8263ms
2025-10-25 21:18:21.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:21.396 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:21.400 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:21.404 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:21.460 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:21.470 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:21.476 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 63.5735ms
2025-10-25 21:18:21.482 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:21.489 +03:00 [INF] HTTP GET /api/entities responded 200 in 88.9450 ms
2025-10-25 21:18:21.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 126.1036ms
2025-10-25 21:18:28.305 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities/5 - null null
2025-10-25 21:18:28.314 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:28.319 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities/5 - 204 null null 13.5527ms
2025-10-25 21:18:28.321 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:63886/api/entities/5 - null null
2025-10-25 21:18:28.339 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:28.343 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Delete (InspectionVisits.Api)'
2025-10-25 21:18:28.351 +03:00 [INF] Route matched with {action = "Delete", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:28.383 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__req_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Address], [e].[Category], [e].[CreatedAt], [e].[Name], [e].[UpdatedAt]
FROM [EntitiesToInspect] AS [e]
WHERE [e].[Id] = @__req_Id_0
2025-10-25 21:18:28.497 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [EntitiesToInspect]
OUTPUT 1
WHERE [Id] = @p0;
2025-10-25 21:18:28.525 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-25 21:18:28.530 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.Delete (InspectionVisits.Api) in 173.9752ms
2025-10-25 21:18:28.534 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.Delete (InspectionVisits.Api)'
2025-10-25 21:18:28.537 +03:00 [INF] HTTP DELETE /api/entities/5 responded 204 in 195.0081 ms
2025-10-25 21:18:28.550 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:28.545 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:63886/api/entities/5 - 204 null null 223.9547ms
2025-10-25 21:18:28.561 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:28.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:28.574 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 23.7208ms
2025-10-25 21:18:28.591 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:28.596 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:28.599 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:28.606 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:28.646 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:28.654 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 50.8772ms
2025-10-25 21:18:28.660 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:28.680 +03:00 [INF] HTTP GET /api/entities responded 200 in 83.9441 ms
2025-10-25 21:18:28.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 111.0677ms
2025-10-25 21:18:30.995 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:31.013 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:31.023 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 27.7494ms
2025-10-25 21:18:31.047 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:31.076 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:31.079 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:31.085 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:31.103 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:31.111 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:31.115 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 15.8358ms
2025-10-25 21:18:31.121 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:31.126 +03:00 [INF] HTTP GET /api/entities responded 200 in 47.8317 ms
2025-10-25 21:18:31.134 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 87.2624ms
2025-10-25 21:18:33.238 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:18:33.239 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/inspectors - null null
2025-10-25 21:18:33.239 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - null null
2025-10-25 21:18:33.270 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:33.278 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:33.286 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:33.292 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 54.3271ms
2025-10-25 21:18:33.298 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - 204 null null 59.3849ms
2025-10-25 21:18:33.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:18:33.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/inspectors - null null
2025-10-25 21:18:33.293 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/inspectors - 204 null null 55.1782ms
2025-10-25 21:18:33.309 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - null null
2025-10-25 21:18:33.358 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:33.361 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:33.373 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:18:33.380 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:33.381 +03:00 [INF] HTTP GET /api/inspectors responded 404 in 0.2070 ms
2025-10-25 21:18:33.383 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api)'
2025-10-25 21:18:33.393 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:18:33.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/inspectors - 404 0 null 95.4906ms
2025-10-25 21:18:33.414 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:18:33.416 +03:00 [INF] Route matched with {action = "List", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.InspectionVisitDto]] List(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[InspectionVisits.Domain.Enums.VisitStatus], System.Nullable`1[System.Int32], System.String) on controller InspectionVisits.Api.Controllers.VisitsController (InspectionVisits.Api).
2025-10-25 21:18:33.421 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63886/api/inspectors, Response status code: 404
2025-10-25 21:18:33.440 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:33.453 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 41.83ms
2025-10-25 21:18:33.460 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:18:33.466 +03:00 [INF] HTTP GET /api/entities responded 200 in 86.4764 ms
2025-10-25 21:18:33.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 179.1026ms
2025-10-25 21:18:33.576 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[EntityToInspectId], [i].[InspectorId], [i].[ScheduledAt], [i].[Status], [i].[Score], [i].[Notes], [v].[Id], [v].[Code], [v].[Description], [v].[Severity]
FROM [InspectionVisits] AS [i]
LEFT JOIN [Violations] AS [v] ON [i].[Id] = [v].[InspectionVisitId]
ORDER BY [i].[Id]
2025-10-25 21:18:33.586 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.InspectionVisitDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:18:33.611 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api) in 167.8767ms
2025-10-25 21:18:33.620 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api)'
2025-10-25 21:18:33.627 +03:00 [INF] HTTP GET /api/visits responded 200 in 244.7396 ms
2025-10-25 21:18:33.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - 200 null application/json; charset=utf-8 329.3023ms
2025-10-25 21:29:40.361 +03:00 [INF] User profile is available. Using 'C:\Users\Youssef Ghonem\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-25 21:29:42.682 +03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-25 21:29:42.808 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-25 21:29:42.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-25 21:29:42.834 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-25 21:29:42.876 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-25 21:29:42.914 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-25 21:29:43.400 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__role_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Name] = @__role_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:29:43.424 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]
        WHERE [a].[Name] = @__role_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:29:43.512 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__adminEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__adminEmail_0
2025-10-25 21:29:43.669 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__inspEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__inspEmail_0
2025-10-25 21:29:43.691 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Inspectors] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:29:43.708 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [EntitiesToInspect] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-25 21:29:43.764 +03:00 [INF] Database seeded.
2025-10-25 21:29:44.383 +03:00 [INF] Now listening on: https://localhost:63886
2025-10-25 21:29:44.387 +03:00 [INF] Now listening on: http://localhost:63887
2025-10-25 21:29:44.492 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-25 21:29:44.498 +03:00 [INF] Hosting environment: Development
2025-10-25 21:29:44.503 +03:00 [INF] Content root path: C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Api
2025-10-25 21:29:44.967 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/ - null null
2025-10-25 21:29:45.283 +03:00 [INF] HTTP GET / responded 404 in 107.8727 ms
2025-10-25 21:29:45.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/ - 404 0 null 345.4817ms
2025-10-25 21:29:45.320 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:63886/, Response status code: 404
2025-10-25 21:31:54.330 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:31:54.331 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - null null
2025-10-25 21:31:54.330 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/inspectors - null null
2025-10-25 21:31:54.378 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:31:54.378 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:31:54.388 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:31:54.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/inspectors - 204 null null 67.5266ms
2025-10-25 21:31:54.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 67.4359ms
2025-10-25 21:31:54.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - null null
2025-10-25 21:31:54.397 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - 204 null null 65.4682ms
2025-10-25 21:31:54.405 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/inspectors - null null
2025-10-25 21:31:54.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:31:54.455 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:31:54.461 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:31:54.465 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:31:54.614 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.InspectorsController.GetAll (InspectionVisits.Api)'
2025-10-25 21:31:54.614 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api)'
2025-10-25 21:31:54.614 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:31:54.661 +03:00 [INF] Route matched with {action = "GetAll", controller = "Inspectors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[InspectionVisits.Application.Features.Inspectors.Queries.InspectorDto]]] GetAll(System.Threading.CancellationToken) on controller InspectionVisits.Api.Controllers.InspectorsController (InspectionVisits.Api).
2025-10-25 21:31:54.661 +03:00 [INF] Route matched with {action = "List", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.InspectionVisitDto]] List(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[InspectionVisits.Domain.Enums.VisitStatus], System.Nullable`1[System.Int32], System.String) on controller InspectionVisits.Api.Controllers.VisitsController (InspectionVisits.Api).
2025-10-25 21:31:54.661 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:31:55.198 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.InspectorsController.GetAll (InspectionVisits.Api) in 518.3243ms
2025-10-25 21:31:55.204 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.InspectorsController.GetAll (InspectionVisits.Api)'
2025-10-25 21:31:55.212 +03:00 [ERR] HTTP GET /api/inspectors responded 500 in 737.5041 ms
System.InvalidOperationException: Missing map from InspectionVisits.Domain.Entities.Inspector to InspectionVisits.Application.Features.Inspectors.Queries.InspectorDto. Create using CreateMap<Inspector, InspectorDto>.
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.PolymorphicMaps(ProjectionRequest& request)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.CreateProjection(ProjectionRequest request)
   at AutoMapper.Internal.LockingConcurrentDictionary`2.<>c__DisplayClass2_1.<.ctor>b__1()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at AutoMapper.Internal.LockingConcurrentDictionary`2.GetOrAdd(TKey& key)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.GetProjection(Type sourceType, Type destinationType, Object parameters, MemberPath[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore(IQueryable source, Type destinationType, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore[TResult](IQueryable source, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Object parameters, Expression`1[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Expression`1[] membersToExpand)
   at InspectionVisits.Application.Features.Inspectors.Queries.Handler.Handle(GetInspectorsQuery request, CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Features\Inspectors\Queries\GetInspectorsQuery.cs:line 25
   at InspectionVisits.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Common\Behaviors\ValidationBehavior.cs:line 24
   at InspectionVisits.Api.Controllers.InspectorsController.GetAll(CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Api\Controllers\InspectorsController.cs:line 18
   at lambda_method207(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-10-25 21:31:55.236 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:31:55.320 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Missing map from InspectionVisits.Domain.Entities.Inspector to InspectionVisits.Application.Features.Inspectors.Queries.InspectorDto. Create using CreateMap<Inspector, InspectorDto>.
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.PolymorphicMaps(ProjectionRequest& request)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.CreateProjection(ProjectionRequest request)
   at AutoMapper.Internal.LockingConcurrentDictionary`2.<>c__DisplayClass2_1.<.ctor>b__1()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at AutoMapper.Internal.LockingConcurrentDictionary`2.GetOrAdd(TKey& key)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.GetProjection(Type sourceType, Type destinationType, Object parameters, MemberPath[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore(IQueryable source, Type destinationType, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore[TResult](IQueryable source, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Object parameters, Expression`1[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Expression`1[] membersToExpand)
   at InspectionVisits.Application.Features.Inspectors.Queries.Handler.Handle(GetInspectorsQuery request, CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Features\Inspectors\Queries\GetInspectorsQuery.cs:line 25
   at InspectionVisits.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Common\Behaviors\ValidationBehavior.cs:line 24
   at InspectionVisits.Api.Controllers.InspectorsController.GetAll(CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Api\Controllers\InspectorsController.cs:line 18
   at lambda_method207(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-25 21:31:55.336 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:31:55.369 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[EntityToInspectId], [i].[InspectorId], [i].[ScheduledAt], [i].[Status], [i].[Score], [i].[Notes], [v].[Id], [v].[Code], [v].[Description], [v].[Severity]
FROM [InspectionVisits] AS [i]
LEFT JOIN [Violations] AS [v] ON [i].[Id] = [v].[InspectionVisitId]
ORDER BY [i].[Id]
2025-10-25 21:31:55.385 +03:00 [INF] Executing endpoint '/error'
2025-10-25 21:31:55.394 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 713.3741ms
2025-10-25 21:31:55.396 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.InspectionVisitDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:31:55.419 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:31:55.423 +03:00 [INF] Setting HTTP status code 400.
2025-10-25 21:31:55.432 +03:00 [INF] HTTP GET /api/entities responded 200 in 957.8168 ms
2025-10-25 21:31:55.446 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api) in 768.8163ms
2025-10-25 21:31:55.454 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 1049.9184ms
2025-10-25 21:31:55.456 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api)'
2025-10-25 21:31:55.465 +03:00 [INF] Executed endpoint '/error'
2025-10-25 21:31:55.483 +03:00 [INF] HTTP GET /api/visits responded 200 in 1010.0153 ms
2025-10-25 21:31:55.486 +03:00 [INF] HTTP GET /error responded 400 in 101.2969 ms
2025-10-25 21:31:55.502 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - 200 null application/json; charset=utf-8 1098.7468ms
2025-10-25 21:31:55.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/inspectors - 400 null application/problem+json 1103.1219ms
2025-10-25 21:32:00.038 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/entities - null null
2025-10-25 21:32:00.038 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/inspectors - null null
2025-10-25 21:32:00.039 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - null null
2025-10-25 21:32:00.064 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:32:00.069 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:32:00.078 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:32:00.083 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/entities - 204 null null 45.7964ms
2025-10-25 21:32:00.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/inspectors - null null
2025-10-25 21:32:00.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/entities - null null
2025-10-25 21:32:00.085 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/inspectors - 204 null null 46.7958ms
2025-10-25 21:32:00.087 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - 204 null null 48.8404ms
2025-10-25 21:32:00.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - null null
2025-10-25 21:32:00.150 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:32:00.156 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:32:00.177 +03:00 [INF] CORS policy execution successful.
2025-10-25 21:32:00.187 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.InspectorsController.GetAll (InspectionVisits.Api)'
2025-10-25 21:32:00.187 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:32:00.187 +03:00 [INF] Executing endpoint 'InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api)'
2025-10-25 21:32:00.198 +03:00 [INF] Route matched with {action = "GetAll", controller = "Inspectors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[InspectionVisits.Application.Features.Inspectors.Queries.InspectorDto]]] GetAll(System.Threading.CancellationToken) on controller InspectionVisits.Api.Controllers.InspectorsController (InspectionVisits.Api).
2025-10-25 21:32:00.200 +03:00 [INF] Route matched with {action = "List", controller = "Entities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.EntityToInspectDto]] List(System.String) on controller InspectionVisits.Api.Controllers.EntitiesController (InspectionVisits.Api).
2025-10-25 21:32:00.202 +03:00 [INF] Route matched with {action = "List", controller = "Visits"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[InspectionVisits.Application.DTOs.InspectionVisitDto]] List(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[InspectionVisits.Domain.Enums.VisitStatus], System.Nullable`1[System.Int32], System.String) on controller InspectionVisits.Api.Controllers.VisitsController (InspectionVisits.Api).
2025-10-25 21:32:00.427 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Name], [e].[Address], [e].[Category]
FROM [EntitiesToInspect] AS [e]
2025-10-25 21:32:00.455 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.InspectorsController.GetAll (InspectionVisits.Api) in 234.2306ms
2025-10-25 21:32:00.466 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.EntityToInspectDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:32:00.474 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.InspectorsController.GetAll (InspectionVisits.Api)'
2025-10-25 21:32:00.477 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api) in 253.053ms
2025-10-25 21:32:00.487 +03:00 [ERR] HTTP GET /api/inspectors responded 500 in 302.7218 ms
System.InvalidOperationException: Missing map from InspectionVisits.Domain.Entities.Inspector to InspectionVisits.Application.Features.Inspectors.Queries.InspectorDto. Create using CreateMap<Inspector, InspectorDto>.
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.PolymorphicMaps(ProjectionRequest& request)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.CreateProjection(ProjectionRequest request)
   at AutoMapper.Internal.LockingConcurrentDictionary`2.<>c__DisplayClass2_1.<.ctor>b__1()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at AutoMapper.Internal.LockingConcurrentDictionary`2.GetOrAdd(TKey& key)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.GetProjection(Type sourceType, Type destinationType, Object parameters, MemberPath[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore(IQueryable source, Type destinationType, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore[TResult](IQueryable source, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Object parameters, Expression`1[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Expression`1[] membersToExpand)
   at InspectionVisits.Application.Features.Inspectors.Queries.Handler.Handle(GetInspectorsQuery request, CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Features\Inspectors\Queries\GetInspectorsQuery.cs:line 25
   at InspectionVisits.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Common\Behaviors\ValidationBehavior.cs:line 24
   at InspectionVisits.Api.Controllers.InspectorsController.GetAll(CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Api\Controllers\InspectorsController.cs:line 18
   at lambda_method207(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-10-25 21:32:00.489 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.EntitiesController.List (InspectionVisits.Api)'
2025-10-25 21:32:00.493 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[EntityToInspectId], [i].[InspectorId], [i].[ScheduledAt], [i].[Status], [i].[Score], [i].[Notes], [v].[Id], [v].[Code], [v].[Description], [v].[Severity]
FROM [InspectionVisits] AS [i]
LEFT JOIN [Violations] AS [v] ON [i].[Id] = [v].[InspectionVisitId]
ORDER BY [i].[Id]
2025-10-25 21:32:00.530 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Missing map from InspectionVisits.Domain.Entities.Inspector to InspectionVisits.Application.Features.Inspectors.Queries.InspectorDto. Create using CreateMap<Inspector, InspectorDto>.
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.PolymorphicMaps(ProjectionRequest& request)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.CreateProjection(ProjectionRequest request)
   at AutoMapper.Internal.LockingConcurrentDictionary`2.<>c__DisplayClass2_1.<.ctor>b__1()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location ---
   at System.LazyHelper.ThrowException()
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at AutoMapper.Internal.LockingConcurrentDictionary`2.GetOrAdd(TKey& key)
   at AutoMapper.QueryableExtensions.Impl.ProjectionBuilder.GetProjection(Type sourceType, Type destinationType, Object parameters, MemberPath[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore(IQueryable source, Type destinationType, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ToCore[TResult](IQueryable source, IConfigurationProvider configuration, Object parameters, IEnumerable`1 memberPathsToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Object parameters, Expression`1[] membersToExpand)
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, IConfigurationProvider configuration, Expression`1[] membersToExpand)
   at InspectionVisits.Application.Features.Inspectors.Queries.Handler.Handle(GetInspectorsQuery request, CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Features\Inspectors\Queries\GetInspectorsQuery.cs:line 25
   at InspectionVisits.Application.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Application\Common\Behaviors\ValidationBehavior.cs:line 24
   at InspectionVisits.Api.Controllers.InspectorsController.GetAll(CancellationToken ct) in C:\Users\Youssef Ghonem\Downloads\adreeTask\inspection-visits-backend\src\InspectionVisits.Api\Controllers\InspectorsController.cs:line 18
   at lambda_method207(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-25 21:32:00.531 +03:00 [INF] HTTP GET /api/entities responded 200 in 345.1010 ms
2025-10-25 21:32:00.535 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[InspectionVisits.Application.DTOs.InspectionVisitDto, InspectionVisits.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-25 21:32:00.572 +03:00 [INF] Executing endpoint '/error'
2025-10-25 21:32:00.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/entities - 200 null application/json; charset=utf-8 487.7672ms
2025-10-25 21:32:00.577 +03:00 [INF] Executed action InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api) in 347.8366ms
2025-10-25 21:32:00.592 +03:00 [INF] Setting HTTP status code 400.
2025-10-25 21:32:00.603 +03:00 [INF] Executed endpoint 'InspectionVisits.Api.Controllers.VisitsController.List (InspectionVisits.Api)'
2025-10-25 21:32:00.610 +03:00 [INF] Executed endpoint '/error'
2025-10-25 21:32:00.610 +03:00 [INF] HTTP GET /api/visits responded 200 in 423.5016 ms
2025-10-25 21:32:00.616 +03:00 [INF] HTTP GET /error responded 400 in 44.3755 ms
2025-10-25 21:32:00.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/visits?pageIndex=0&pageSize=10 - 200 null application/json; charset=utf-8 531.5717ms
2025-10-25 21:32:00.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:63886/api/inspectors - 400 null application/problem+json 544.7487ms
